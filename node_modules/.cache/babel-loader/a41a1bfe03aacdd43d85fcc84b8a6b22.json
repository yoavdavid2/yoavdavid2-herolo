{"ast":null,"code":"import { combineReducers } from 'redux';\nimport axios from 'axios';\n\nfunction requestWeatherDetails(city_code) {\n  console.log(\"weather bitches\");\n  axios.get(`http://dataservice.accuweather.com/currentconditions/v1/${city_code}.json`, {\n    params: {\n      apikey: this.apiKey\n    }\n  }).then(({\n    data\n  }) => {\n    this.setState({\n      weatherData: data\n    });\n    console.log(data);\n  });\n}\n\nfunction getCityList(city_name) {\n  console.log(\"getting city list\");\n  axios.get(`http://dataservice.accuweather.com/locations/v1/cities/autocomplete`, {\n    params: {\n      apikey: this.apiKey,\n      q: city_name\n    }\n  }).then(({\n    data\n  }) => {\n    console.log(data); //filter the data to key, localizedName (see console)\n\n    var new_data = {};\n    data.map((city, index) => {\n      new_data[city.Key] = city.LocalizedName + \", \" + city.Country.LocalizedName;\n    });\n    console.log(new_data);\n  });\n}\n\nconst weather = combineReducers({\n  requestWeatherDetails,\n  getCityList\n});\nexport default weather;","map":{"version":3,"sources":["C:/Users/magshimim/react/weather/src/reducers/index.js"],"names":["combineReducers","axios","requestWeatherDetails","city_code","console","log","get","params","apikey","apiKey","then","data","setState","weatherData","getCityList","city_name","q","new_data","map","city","index","Key","LocalizedName","Country","weather"],"mappings":"AAAA,SAASA,eAAT,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,qBAAT,CAA+BC,SAA/B,EAA0C;AACxCC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAJ,EAAAA,KAAK,CAACK,GAAN,CAAW,2DAA0DH,SAAU,OAA/E,EAAuF;AACrFI,IAAAA,MAAM,EAAE;AACNC,MAAAA,MAAM,EAAE,KAAKC;AADP;AAD6E,GAAvF,EAIGC,IAJH,CAIQ,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAc;AACpB,SAAKC,QAAL,CAAc;AAAEC,MAAAA,WAAW,EAAEF;AAAf,KAAd;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ;AACD,GAPD;AAQD;;AAED,SAASG,WAAT,CAAqBC,SAArB,EAAgC;AAC9BX,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAJ,EAAAA,KAAK,CAACK,GAAN,CAAW,qEAAX,EAAiF;AAC/EC,IAAAA,MAAM,EAAE;AACNC,MAAAA,MAAM,EAAE,KAAKC,MADP;AAENO,MAAAA,CAAC,EAAED;AAFG;AADuE,GAAjF,EAKGL,IALH,CAKQ,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAc;AACpBP,IAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ,EADoB,CAEpB;;AACA,QAAIM,QAAQ,GAAG,EAAf;AACAN,IAAAA,IAAI,CAACO,GAAL,CAAS,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACxBH,MAAAA,QAAQ,CAACE,IAAI,CAACE,GAAN,CAAR,GAAqBF,IAAI,CAACG,aAAL,GAAqB,IAArB,GAA4BH,IAAI,CAACI,OAAL,CAAaD,aAA9D;AACD,KAFD;AAGAlB,IAAAA,OAAO,CAACC,GAAR,CAAYY,QAAZ;AACD,GAbD;AAcD;;AAED,MAAMO,OAAO,GAAGxB,eAAe,CAAC;AAC9BE,EAAAA,qBAD8B;AAE9BY,EAAAA;AAF8B,CAAD,CAA/B;AAKA,eAAeU,OAAf","sourcesContent":["import { combineReducers } from 'redux';\r\nimport axios from 'axios';\r\n\r\nfunction requestWeatherDetails(city_code) {\r\n  console.log(\"weather bitches\");\r\n  axios.get(`http://dataservice.accuweather.com/currentconditions/v1/${city_code}.json`, {\r\n    params: {\r\n      apikey: this.apiKey\r\n    }\r\n  }).then(({ data }) => {\r\n    this.setState({ weatherData: data });\r\n    console.log(data);\r\n  });\r\n}\r\n\r\nfunction getCityList(city_name) {\r\n  console.log(\"getting city list\")\r\n  axios.get(`http://dataservice.accuweather.com/locations/v1/cities/autocomplete`, {\r\n    params: {\r\n      apikey: this.apiKey,\r\n      q: city_name\r\n    }\r\n  }).then(({ data }) => {\r\n    console.log(data)\r\n    //filter the data to key, localizedName (see console)\r\n    var new_data = {};\r\n    data.map((city, index) => {\r\n      new_data[city.Key] = city.LocalizedName + \", \" + city.Country.LocalizedName;\r\n    })\r\n    console.log(new_data);\r\n  });\r\n}\r\n\r\nconst weather = combineReducers({\r\n  requestWeatherDetails,\r\n  getCityList\r\n})\r\n\r\nexport default weather;"]},"metadata":{},"sourceType":"module"}