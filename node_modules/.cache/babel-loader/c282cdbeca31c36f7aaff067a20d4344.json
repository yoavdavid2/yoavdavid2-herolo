{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\magshimim\\\\react\\\\weather\\\\src\\\\components\\\\weatherDetails.js\";\nimport React from 'react';\nimport axios from \"axios\";\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\n\nclass WeatherDetails extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.apiKey = 'xJ4I5DWKpOU1XHmK1ZrDmIkgfffyLX3s';\n    this.state = {\n      weatherData: ''\n    };\n  }\n\n  requestWeatherDetails(city_code) {\n    console.log(\"weather bitches\");\n    axios.get(`http://dataservice.accuweather.com/currentconditions/v1/${city_code}.json`, {\n      params: {\n        apikey: this.apiKey\n      }\n    }).then(({\n      data\n    }) => {\n      this.setState({\n        weatherData: data\n      });\n      var new_data = data.map(function (city, index) {\n        return city.Key + \"-\" + city.LocalizedName;\n      });\n      console.log(new_data);\n    });\n  }\n\n  getCityList(city_name) {\n    console.log(\"getting city list\");\n    axios.get(`http://dataservice.accuweather.com/locations/v1/cities/autocomplete`, {\n      params: {\n        apikey: this.apiKey,\n        q: city_name\n      }\n    }).then(({\n      data\n    }) => {\n      console.log(data);\n      return data.map(); //filter the data to key, localizedName (see console)\n    });\n  }\n\n  render() {\n    console.log(\"Weather details\");\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      onSubmit: () => this.requestWeatherDetails(328328),\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Location\"), React.createElement(Input, {\n      id: \"loc_input\",\n      onChange: () => this.getCityList(document.getElementById('loc_input').value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default WeatherDetails;","map":{"version":3,"sources":["C:/Users/magshimim/react/weather/src/components/weatherDetails.js"],"names":["React","axios","FormControl","InputLabel","Input","WeatherDetails","Component","apiKey","state","weatherData","requestWeatherDetails","city_code","console","log","get","params","apikey","then","data","setState","new_data","map","city","index","Key","LocalizedName","getCityList","city_name","q","render","document","getElementById","value"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;;AAIA,MAAMC,cAAN,SAA6BL,KAAK,CAACM,SAAnC,CAA6C;AAAA;AAAA;AAAA,SAE3CC,MAF2C,GAElC,kCAFkC;AAAA,SAG3CC,KAH2C,GAGnC;AAAEC,MAAAA,WAAW,EAAE;AAAf,KAHmC;AAAA;;AAK3CC,EAAAA,qBAAqB,CAACC,SAAD,EAAY;AAC/BC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAZ,IAAAA,KAAK,CAACa,GAAN,CAAW,2DAA0DH,SAAU,OAA/E,EAAuF;AACrFI,MAAAA,MAAM,EAAE;AACNC,QAAAA,MAAM,EAAE,KAAKT;AADP;AAD6E,KAAvF,EAIGU,IAJH,CAIQ,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAc;AACpB,WAAKC,QAAL,CAAc;AAAEV,QAAAA,WAAW,EAAES;AAAf,OAAd;AACA,UAAIE,QAAQ,GAAGF,IAAI,CAACG,GAAL,CAAS,UAASC,IAAT,EAAeC,KAAf,EAAsB;AAC5C,eAAOD,IAAI,CAACE,GAAL,GAAW,GAAX,GAAiBF,IAAI,CAACG,aAA7B;AACD,OAFc,CAAf;AAGAb,MAAAA,OAAO,CAACC,GAAR,CAAYO,QAAZ;AACD,KAVD;AAWD;;AAEDM,EAAAA,WAAW,CAACC,SAAD,EAAY;AACrBf,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAZ,IAAAA,KAAK,CAACa,GAAN,CAAW,qEAAX,EAAiF;AAC/EC,MAAAA,MAAM,EAAE;AACNC,QAAAA,MAAM,EAAE,KAAKT,MADP;AAENqB,QAAAA,CAAC,EAAED;AAFG;AADuE,KAAjF,EAKGV,IALH,CAKQ,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAc;AACpBN,MAAAA,OAAO,CAACC,GAAR,CAAYK,IAAZ;AACA,aAAOA,IAAI,CAACG,GAAL,EAAP,CAFoB,CAED;AACpB,KARD;AASD;;AAGDQ,EAAAA,MAAM,GAAG;AACPjB,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AAAa,MAAA,QAAQ,EAAE,MAAM,KAAKH,qBAAL,CAA2B,MAA3B,CAA7B;AAAiE,MAAA,SAAS,MAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAC,WAAV;AAAsB,MAAA,QAAQ,EAAE,MAAM,KAAKgB,WAAL,CAAiBI,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAAtD,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,CADF;AAQD;;AA5C0C;;AA+C7C,eAAe3B,cAAf","sourcesContent":["import React from 'react';\r\nimport axios from \"axios\";\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Input from '@material-ui/core/Input';\r\n\r\n\r\n\r\nclass WeatherDetails extends React.Component {\r\n\r\n  apiKey = 'xJ4I5DWKpOU1XHmK1ZrDmIkgfffyLX3s';\r\n  state = { weatherData: '' };\r\n\r\n  requestWeatherDetails(city_code) {\r\n    console.log(\"weather bitches\");\r\n    axios.get(`http://dataservice.accuweather.com/currentconditions/v1/${city_code}.json`, {\r\n      params: {\r\n        apikey: this.apiKey\r\n      }\r\n    }).then(({ data }) => {\r\n      this.setState({ weatherData: data });\r\n      var new_data = data.map(function(city, index) {\r\n        return city.Key + \"-\" + city.LocalizedName;\r\n      })\r\n      console.log(new_data);\r\n    });\r\n  }\r\n\r\n  getCityList(city_name) {\r\n    console.log(\"getting city list\")\r\n    axios.get(`http://dataservice.accuweather.com/locations/v1/cities/autocomplete`, {\r\n      params: {\r\n        apikey: this.apiKey,\r\n        q: city_name\r\n      }\r\n    }).then(({ data }) => {\r\n      console.log(data)\r\n      return data.map(); //filter the data to key, localizedName (see console)\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    console.log(\"Weather details\");\r\n    return (\r\n      <div>\r\n        <FormControl onSubmit={() => this.requestWeatherDetails(328328)} fullWidth >\r\n          <InputLabel>Location</InputLabel>\r\n          <Input id=\"loc_input\" onChange={() => this.getCityList(document.getElementById('loc_input').value)} />\r\n        </FormControl>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WeatherDetails;"]},"metadata":{},"sourceType":"module"}