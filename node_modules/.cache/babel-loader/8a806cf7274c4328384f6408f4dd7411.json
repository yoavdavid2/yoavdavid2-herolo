{"ast":null,"code":"import axios from 'axios';\nimport { combineReducers } from 'redux';\nconst API_KEY = 'xJ4I5DWKpOU1XHmK1ZrDmIkgfffyLX3s';\n\nfunction makeApiRequest() {}\n\nconst requestWeatherDetails = (state = {}, city_code) => {\n  axios.get(`http://dataservice.accuweather.com/currentconditions/v1/${city_code}.json`, {\n    params: {\n      apikey: API_KEY\n    }\n  }).then(({\n    data\n  }) => {\n    this.setState({\n      weatherData: data\n    });\n    console.log(data);\n    return data;\n  });\n  return null;\n};\n\nconst getCityList = (state = {}, city_name) => {\n  var new_data = {};\n  console.log(\"getting city list\");\n  axios.get(`http://dataservice.accuweather.com/locations/v1/cities/autocomplete`, {\n    params: {\n      apikey: API_KEY,\n      q: city_name\n    }\n  }).then(({\n    data\n  }) => {\n    console.log(data); //filter the data to key, localizedName (see console)\n\n    data.map((city, index) => {\n      new_data[city.Key] = city.LocalizedName + \", \" + city.Country.LocalizedName;\n    });\n    console.log(new_data);\n  });\n  return new_data;\n};\n\nexport default combineReducers({\n  requestWeatherDetails: requestWeatherDetails,\n  getOptions: getCityList\n});","map":{"version":3,"sources":["C:/Users/magshimim/react/weather/src/reducers/index.js"],"names":["axios","combineReducers","API_KEY","makeApiRequest","requestWeatherDetails","state","city_code","get","params","apikey","then","data","setState","weatherData","console","log","getCityList","city_name","new_data","q","map","city","index","Key","LocalizedName","Country","getOptions"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,OAAhC;AAEA,MAAMC,OAAO,GAAG,kCAAhB;;AAEA,SAASC,cAAT,GAA0B,CAEzB;;AAED,MAAMC,qBAAqB,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,SAAb,KAA2B;AACvDN,EAAAA,KAAK,CAACO,GAAN,CAAW,2DAA0DD,SAAU,OAA/E,EAAuF;AACrFE,IAAAA,MAAM,EAAE;AACNC,MAAAA,MAAM,EAAEP;AADF;AAD6E,GAAvF,EAIGQ,IAJH,CAIQ,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAc;AACpB,SAAKC,QAAL,CAAc;AAAEC,MAAAA,WAAW,EAAEF;AAAf,KAAd;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACA,WAAOA,IAAP;AACD,GARD;AASA,SAAO,IAAP;AACD,CAXD;;AAaC,MAAMK,WAAW,GAAG,CAACX,KAAK,GAAG,EAAT,EAAaY,SAAb,KAA2B;AAC9C,MAAIC,QAAQ,GAAG,EAAf;AACAJ,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAf,EAAAA,KAAK,CAACO,GAAN,CAAW,qEAAX,EAAiF;AAC/EC,IAAAA,MAAM,EAAE;AACNC,MAAAA,MAAM,EAAEP,OADF;AAENiB,MAAAA,CAAC,EAAEF;AAFG;AADuE,GAAjF,EAKGP,IALH,CAKQ,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAc;AACpBG,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EADoB,CAEpB;;AACAA,IAAAA,IAAI,CAACS,GAAL,CAAS,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACxBJ,MAAAA,QAAQ,CAACG,IAAI,CAACE,GAAN,CAAR,GAAqBF,IAAI,CAACG,aAAL,GAAqB,IAArB,GAA4BH,IAAI,CAACI,OAAL,CAAaD,aAA9D;AACD,KAFD;AAGAV,IAAAA,OAAO,CAACC,GAAR,CAAYG,QAAZ;AACD,GAZD;AAaA,SAAOA,QAAP;AACD,CAjBA;;AAmBD,eAAejB,eAAe,CAAE;AAC9BG,EAAAA,qBAAqB,EAAEA,qBADO;AAE9BsB,EAAAA,UAAU,EAAEV;AAFkB,CAAF,CAA9B","sourcesContent":["import axios from 'axios';\r\nimport { combineReducers } from 'redux';\r\n\r\nconst API_KEY = 'xJ4I5DWKpOU1XHmK1ZrDmIkgfffyLX3s';\r\n\r\nfunction makeApiRequest() {\r\n\r\n}\r\n\r\nconst requestWeatherDetails = (state = {}, city_code) => {\r\n  axios.get(`http://dataservice.accuweather.com/currentconditions/v1/${city_code}.json`, {\r\n    params: {\r\n      apikey: API_KEY\r\n    }\r\n  }).then(({ data }) => {\r\n    this.setState({ weatherData: data });\r\n    console.log(data);\r\n    return data;\r\n  });\r\n  return null;\r\n}\r\n\r\n const getCityList = (state = {}, city_name) => {\r\n  var new_data = {};  \r\n  console.log(\"getting city list\");\r\n  axios.get(`http://dataservice.accuweather.com/locations/v1/cities/autocomplete`, {\r\n    params: {\r\n      apikey: API_KEY,\r\n      q: city_name\r\n    }\r\n  }).then(({ data }) => {\r\n    console.log(data)\r\n    //filter the data to key, localizedName (see console)\r\n    data.map((city, index) => {\r\n      new_data[city.Key] = city.LocalizedName + \", \" + city.Country.LocalizedName;\r\n    })\r\n    console.log(new_data);\r\n  });\r\n  return new_data;\r\n}\r\n\r\nexport default combineReducers ({\r\n  requestWeatherDetails: requestWeatherDetails,\r\n  getOptions: getCityList\r\n});"]},"metadata":{},"sourceType":"module"}