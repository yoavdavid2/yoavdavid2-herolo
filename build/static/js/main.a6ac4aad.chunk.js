(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{32:function(t,e,a){},60:function(t,e,a){t.exports=a(72)},72:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(7),s=a.n(c),i=a(51),o=a(30),l=a(31),u=a(14),p=a(11),f=a(15),h=a(16),v=a(17),m=a(107),d=a(109),y=a(108),b=a(104),E=a(9),_=a.n(E),k=a(111),g=a(110),O="lB93giYbYMgzTngoCqgk8x0dSVTucyTF";function j(t){return _.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||void 0===t){e.next=2;break}return e.abrupt("return",fetch("https://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat(O)).then((function(t){return t.json()})).then((function(t){return t})));case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}))}function w(t){var e;return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=null,null===t||void 0===t){a.next=5;break}return a.next=4,_.a.awrap(fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat(O,"&metric=true")).then((function(t){return t.json()})).then((function(t){return t})));case 4:e=a.sent;case 5:return a.abrupt("return",e);case 6:case"end":return a.stop()}}))}function x(t){var e;return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e={},null===t||void 0===t||""===t){a.next=5;break}return a.next=4,_.a.awrap(fetch("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(O,"&q=").concat(t)).then((function(t){return t.json()})).then((function(t){return t.map((function(t,e){return"".concat(t.Key,"/").concat(t.LocalizedName,", ").concat(t.AdministrativeArea.LocalizedName,", ").concat(t.Country.LocalizedName)}))})));case 4:e=a.sent;case 5:return a.abrupt("return",e);case 6:case"end":return a.stop()}}))}var C=a(105),D=a(106),F=a(49),N=a.n(F),S=a(50),T=a.n(S),V=a(100),A=function(t){function e(){return Object(u.a)(this,e),Object(f.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(v.a)(e,t),Object(p.a)(e,[{key:"findDay",value:function(t){return new Date(1e3*t).toUTCString().split(", ")[0]}},{key:"render",value:function(){if(this.props.is_from_fav)var t=this.props.name,e=this.props.data.Temperature.Metric.Value,a=this.props.data.Temperature.Imperial.Value;else var n=this.findDay(this.props.data.EpochDate),c=this.props.data.Temperature.Minimum.Value,s=this.props.data.Temperature.Maximum.Value;return r.a.createElement("div",null,r.a.createElement(V.a,null,r.a.createElement(b.a,{align:"center",variant:"h5"},this.props.is_from_fav?"".concat(t):"".concat(n)),r.a.createElement("br",null),r.a.createElement(b.a,{align:"center"},this.props.is_from_fav?"".concat(e,"\xb0C"):"min - ".concat(c,"\xb0C")),r.a.createElement(b.a,{align:"center"},this.props.is_from_fav?"".concat(a,"\xad\xb0F"):"max - ".concat(s,"\xb0C"))))}}]),e}(r.a.Component),I=(a(32),function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).state={favStat:!0,futureData:[],createForecast:!1,currentTemp:null},a}return Object(v.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){var t,e,a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.a.awrap(j(this.props.code));case 2:return t=n.sent,n.next=5,_.a.awrap(w(this.props.code));case 5:e=n.sent,a=!!e.Headline,this.setState({futureData:e,createForecast:a,currentTemp:t});case 8:case"end":return n.stop()}}),null,this)}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"changeFavStat",value:function(){this.setState({favStat:!this.state.favStat}),this.props.callback(this.props.code,this.props.city_name,this.state.favStat)}},{key:"getFutureforecast",value:function(){return void 0!==this.state.futureData.DailyForecasts?r.a.createElement("div",{className:"card-div"},this.state.futureData.DailyForecasts.map((function(t,e){return r.a.createElement(C.a,{className:"card",key:e},r.a.createElement(A,{data:t,is_from_fav:!1}))}))):null}},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement(C.a,null,r.a.createElement("div",{id:"credentials"},r.a.createElement(b.a,{variant:"h6",className:"details_tag"},this.props.city_name.split(",")[0]+", "+this.props.city_name.split(",")[2],"\t",null!==this.state.currentTemp?this.state.currentTemp[0].Temperature.Metric.Value+"\xb0C":null),r.a.createElement(D.a,{className:"fav-icon",onClick:function(){return t.changeFavStat()}},this.state.favStat?r.a.createElement(T.a,{color:"primary"}):r.a.createElement(N.a,{color:"primary"})),r.a.createElement(b.a,{align:"center",variant:"h5"},this.state.createForecast?this.state.futureData.Headline.Text:null)),this.state.createForecast?this.getFutureforecast():r.a.createElement(b.a,null,"Loading...")))}}]),e}(r.a.Component)),M=function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).state={cities_list:{}},a}return Object(v.a)(e,t),Object(p.a)(e,[{key:"displayOptions",value:function(){var t=this;return Object.keys(this.props.options).length?this.props.options.map((function(e){var a=e.split("/")[0],n=e.split("/")[1];return r.a.createElement("div",{key:a,onClick:function(){return t.props.callback(n)}},r.a.createElement(b.a,null,n))})):null}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C.a,null,this.displayOptions()))}}]),e}(r.a.Component),L=function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).state={cityCode:215854,cityName:"Tel Aviv, , Israel",options:[]},a}return Object(v.a)(e,t),Object(p.a)(e,[{key:"handleEnter",value:function(t){"Enter"===t.key&&(t.preventDefault(),this.getCityKey(document.getElementById("loc_input").value),document.getElementById("loc_input").value="")}},{key:"setOptions",value:function(t){return _.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,_.a.awrap(x(t));case 3:e.t1=e.sent,e.t2={options:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),null,this)}},{key:"setInputVal",value:function(t){document.getElementById("loc_input").value=t,this.setState({options:[]}),this.getCityKey(t)}},{key:"getCityKey",value:function(t){var e,a,n,r;return _.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.awrap(x(t.split(",")[0]));case 2:for(a in e=c.sent)n=parseInt(e[a].split("/")[0],10),r=e[a].split("/")[1],t===r&&this.setState({cityCode:n,cityName:r});case 4:case"end":return c.stop()}}),null,this)}},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement(k.a,{className:"search-bar"},r.a.createElement(g.a,{id:"loc_input",label:"Search Location",autoComplete:"off",onChange:function(){return t.setOptions(document.getElementById("loc_input").value)},onKeyDown:function(e){return t.handleEnter(e)}}),r.a.createElement(M,{options:this.state.options,callback:function(e){return t.setInputVal(e)}})),r.a.createElement("br",null),r.a.createElement(I,{className:"detailed",code:this.state.cityCode,city_name:this.state.cityName,callback:this.props.callback}))}}]),e}(r.a.Component),B=function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).state={fav_data:{}},a}return Object(v.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){var t=this;return _.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.isEmpty(this.props.favorite_list)||Object.keys(this.props.favorite_list).map((function(e,a){var n;return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Object(l.a)({},t.state.fav_data),a.next=3,_.a.awrap(j(t.props.favorite_list[e]));case 3:n["".concat(e)]=a.sent,t.setState({fav_data:n});case 5:case"end":return a.stop()}}))}));case 1:case"end":return e.stop()}}),null,this)}},{key:"isEmpty",value:function(t){if(null==t)return!0;if(t.length>0)return!1;if(0===t.length)return!0;if("object"!==typeof t)return!0;for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0}},{key:"getFavList",value:function(t){var e;return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.a.awrap(j(t));case 2:return e=a.sent,console.log(e),a.abrupt("return",e);case 5:case"end":return a.stop()}}))}},{key:"getFavData",value:function(){var t=this;return console.log(Object.keys(this.state.fav_data).length),this.state.fav_data&&Object.keys(this.state.fav_data).length?r.a.createElement("div",{className:"card-div"},Object.keys(this.state.fav_data).forEach((function(e,a){return r.a.createElement(C.a,{className:"card",key:a},r.a.createElement(A,{name:e,data:t.state.fav_data[e][0],is_from_fav:!0}))}))):r.a.createElement("div",{className:"card-div"},r.a.createElement(b.a,null,"No Favorites Yet"))}},{key:"render",value:function(){return console.log(this.props.favorite_list),r.a.createElement("div",null,this.getFavData())}}]),e}(r.a.Component),K=function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).state={is_favorites:!1,err_message:"",favorite_list:{}},a}return Object(v.a)(e,t),Object(p.a)(e,[{key:"changeView",value:function(t){this.state.is_favorites!==t&&this.setState({is_favorites:!this.state.is_favorites})}},{key:"changeFav",value:function(t,e,a){var n=Object(l.a)({},this.state.favorite_list);a?(n[e.split(",")[0]]=parseInt(t,10),this.setState({favorite_list:n})):(delete n[e],this.setState({favorite_list:n}))}},{key:"render",value:function(){var t=this;return console.log(this.state.favorite_list),r.a.createElement("div",{id:"app-bar-div"},r.a.createElement(m.a,{position:"relative"},r.a.createElement(y.a,{className:"tool-bar"},r.a.createElement(b.a,{variant:"h6"},"Herolo Weather Task"),r.a.createElement("div",{className:"buttons-div"},r.a.createElement(d.a,{className:"app-bar-buttons",color:"default",onClick:function(){return t.changeView(!1)}},"Home"),r.a.createElement(d.a,{className:"app-bar-buttons fav-button",color:"default",onClick:function(){return t.changeView(!0)}},"Favorites")))),r.a.createElement("form",null,this.state.is_favorites?r.a.createElement(B,{favorite_list:this.state.favorite_list}):r.a.createElement(L,{callback:function(e,a,n){return t.changeFav(e,a,n)}})))}}]),e}(r.a.Component),z="ADD_FAV",H="REMOVE_FAV";var q={fav_list:[]},Y=Object(o.b)({change_fav:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0,a=Object(l.a)({},t);switch(e.type){case z:return a[e.city_name]=e.city_code,a;case H:return delete a[e.city_name],a;default:return t}}}),J=Object(o.c)(Y);s.a.render(r.a.createElement(i.a,{store:J},r.a.createElement(K,null)),document.querySelector("#root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.a6ac4aad.chunk.js.map